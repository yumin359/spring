<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    // 객체 복사
    // 얕은 복사
    const a = {
        name: "son",
        age: 44,
        address: {
            city: "london",
            country: "uk"
        }
    };
    const b = {...a};
    console.log(b);
    b.name = "kim";
    console.log(b);
    console.log(a);
    b.address.city = "seoul";
    console.log(b);
    console.log(a); // seoul

    // 깊은 복사
    const c = {
        name: "kim",
        address: {
            city: "seoul",
            country: "korea",
        }
    };

    // spread 연산자 : 가끔 씀
    const d = {...c, address: {...c.address}};
    d.address.city = "jeju";
    console.log(d);
    console.log(c);

    // JSON 변경 -> 파싱
    // 자주 씀
    const e = JSON.parse(JSON.stringify(c));
    e.address.city = "dokdo";
    console.log(e);
    console.log(c);

    // structuredClone()
    // 현재는 신상이라 자주 안 씀
    // 앞으로 자주 쓸 예정
    const f = structuredClone(c);
    f.address.city = "busan";
    console.log(f);
    console.log(c);

    // 연습
    const g = {
        score: {
            math: 99.11,
            english: 88.22,
            korean: 77.33
        },
        className: "중앙"
    };
    // const h = g; // 참조값 복사
    // const h = {...g}; // 얕은 복사
    const h = structuredClone(g); // 깊은 복사
    console.log(h);
    console.log(g);

</script>
</body>
</html>